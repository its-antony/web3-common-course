# Part 02：区块链与加密系统

---

## 第1页：Part 2: 区块链与加密系统

欢迎来到 Part 2。这一章我们要深入理解 Web3 的技术基石——区块链。我们不会讲太多技术细节，但会帮你建立对核心概念的准确理解。区块链解决什么问题？比特币为什么可信？去中心化到底「去掉」了什么？公链、Layer2、侧链有什么区别？什么业务其实不适合上链？

---

## 第2页：2.1 区块链解决的核心问题

首先，我们来理解区块链到底解决了什么问题。要理解这一点，需要先了解两个概念：双重支付问题和拜占庭将军问题。

---

## 第3页：数字世界的信任困境

在物理世界，一张百元纸币只能在一个地方——你把它给了别人，你手里就没有了。但在数字世界，数字信息可以被无限复制。一个数字文件，你可以复制一百份。这就产生了一个问题：双重支付问题。如何防止一个人把同一笔数字货币花两次？

---

## 第4页：传统的解决方案：找个「中间人」

传统的解决方案是找一个可信的中间人来记账。银行帮你记录「你有多少钱」；支付宝帮你记录「你的余额是多少」；游戏公司帮你记录「你有哪些装备」。这套系统的根本假设是：你必须信任这个中心机构。

---

## 第5页：当信任被打破

但当这个信任被打破会怎样？2013 年塞浦路斯银行危机，储户存款被强制扣减——你以为存在银行的钱是你的，但银行可以动你的钱。微信封号，你所有的聊天记录、好友关系都没了。安然公司财务造假，股东血本无归。这些案例告诉我们，依赖中心机构的风险是真实存在的。

---

## 第6页：拜占庭将军问题

还有一个更学术的说法叫「拜占庭将军问题」。想象几位将军需要达成一致：进攻还是撤退。但其中可能有叛徒发送不同的指令。把这个类比到区块链：将军就是网络中的节点；进攻或撤退就是确认某笔交易是否有效；叛徒就是试图作弊的恶意节点；达成共识就是全网认可同一个账本版本。本质问题是：在存在恶意参与者的分布式系统中，如何达成可信共识？

---

## 第7页：区块链的解决方案

区块链用三招解决这个问题。第一是时间戳——给交易排队，只承认时间靠前的那笔，后面重复的就是无效的。第二是工作量证明——让作弊代价高昂，矿工要投入真金白银的电费和矿机才能参与记账。第三是链式结构——每个区块包含前一个区块的「指纹」（哈希值），让篡改成本指数级增长。

---

## 第8页：核心价值：去信任化（Trustless）

这带来了区块链的核心价值：去信任化。传统模式下我们信任机构，区块链模式下我们信任规则。传统模式规则由机构制定和解释，区块链模式规则写死在代码里自动执行。传统模式依赖机构承诺，区块链模式依赖数学保证。

---

## 第9页：区块链的本质

用一句话概括区块链的本质：区块链让我们从「信任人」变成「信任数学」。这是一个根本性的转变。

---

## 第10页：2.1 本节要点

这一节的要点：双重支付问题是如何防止数字货币被花两次；拜占庭将军问题是分布式系统中的信任难题；区块链通过时间戳、工作量证明、链式结构解决这些问题；去信任化意味着信任代码和数学规则，而非特定机构。

---

## 第11页：2.2 比特币的可信逻辑

接下来我们来看比特币——第一个去中心化数字货币——是如何实现可信的。

---

## 第12页：一篇改变世界的论文

2008 年 10 月 31 日，一个化名中本聪的人发布了一篇论文《Bitcoin: A Peer-to-Peer Electronic Cash System》，也就是《比特币：一种点对点的电子现金系统》。这篇论文只有 9 页，但它回答了一个核心问题：能不能在不依赖银行的情况下，让两个陌生人直接转账？

---

## 第13页：比特币的三大核心机制

比特币的设计有三大核心机制。第一是区块链结构——每个区块包含前一个区块的哈希值，如果你想篡改历史，就需要重算所有后续区块，计算量巨大。第二是工作量证明——谁先解出一个数学难题，谁就有权写入新区块，这就是我们常说的「挖矿」。第三是激励机制——让经济激励和安全目标一致，诚实挖矿比作弊更划算。

---

## 第14页：矿工的策略分析

我们来分析一下矿工的策略。如果诚实挖矿，成本是电费加矿机，收益是区块奖励加手续费，结果是持续获利。如果作弊攻击，成本同样是电费加矿机，收益是可能的双重支付收益减去币价暴跌的损失，结果大概率是亏损。因为一旦攻击成功，大家都会失去对比特币的信任，币价会暴跌，而攻击者持有的比特币也会贬值。

---

## 第15页：「可信」从哪里来？

比特币的「可信」从哪里来？和传统金融对比一下：传统金融你要相信银行不会冻结账户，比特币是没有人能冻结你的比特币；传统金融你要相信央行不会滥发货币，比特币总量固定 2100 万枚，写死在代码里，任何人都改不了；传统金融需要提交身份证明，比特币创建钱包不需要任何证件。

---

## 第16页：「无需信任」的真正含义

要澄清一点，「无需信任」不是说「不需要信任任何东西」，而是说「不需要信任某个特定的人或机构」。你信任的是三样东西：开源代码，任何人都可以审查；数学规则，无法被人为修改；经济激励，让作弊无利可图。

---

## 第17页：比特币的局限性

比特币也有局限性。慢——每笔交易需要约 10 分钟确认，这是 PoW 设计保证安全性的代价。贵——高峰期手续费可达数十美元，因为区块容量有限。耗能——全网年耗电量约等于一个中等国家，PoW 需要大量算力竞争。简单——只能转账，无法运行复杂程序，设计目标本来就是「电子现金」。

---

## 第18页：2.2 本节要点

这一节的要点：比特币通过区块链结构、工作量证明、激励机制实现去信任化；无需信任意味着信任代码和数学规则，而非特定机构；比特币有局限，慢、贵、耗能、功能简单；这些局限催生了以太坊、Layer2、PoS 等后续创新。

---

## 第19页：2.3 去中心化去掉了什么

「去中心化」可能是 Web3 里被用得最多、也最容易被误解的词。这一节我们来搞清楚它的真正含义。

---

## 第20页：「去中心化」是一个被滥用的词

几乎每个 Web3 项目都宣称自己是「去中心化」的。但如果你仔细观察：有的「去中心化交易所」，关键代码只有几个人能改；有的「去中心化应用」，数据存储在中心化服务器上；有的「去中心化网络」，前三大节点控制着 50% 的算力。所以我们需要一个更精确的框架来理解这个概念。

---

## 第21页：理解「中心化」：三个维度

可以从三个维度来理解中心化程度。架构层：服务器在哪？有多少台？微信的服务器在腾讯，比特币有全球数万个节点。政治层：谁说了算？抖音的规则由字节跳动制定，比特币没人能单方面改规则。逻辑层：数据是否统一？区块链全网数据一致，互联网每个网站数据独立。

---

## 第22页：去中心化「去掉」的三件事

去中心化「去掉」了三件事。第一，去掉了「单点故障」的风险——即使一半节点下线，网络依然运行。第二，去掉了「审查和封禁」的权力——没有人能封禁你的区块链账户。第三，去掉了「任意修改规则」的权力——规则由代码定义，修改需要全网共识。

---

## 第23页：去中心化「没去掉」的东西

但去中心化「没去掉」一些东西。仍然需要规则和共识——每条链都有自己的协议规则。仍然有治理和决策——代码需要人写，漏洞需要人修。仍然可能出现权力集中——矿池、大户鲸鱼、核心开发者都可能有很大的影响力。去中心化改变的是「谁有权参与决策」，而不是「不需要决策」。

---

## 第24页：去中心化是一个「光谱」

不要把去中心化理解为「0 或 1」的二元对立。它更像一个光谱：从完全中心化的传统银行系统，到联盟链如 Hyperledger，到较中心化的某些 PoS 链，到较去中心化的以太坊，再到高度去中心化的比特币。不同的项目在这个光谱上处于不同位置。

---

## 第25页：2.3 本节要点

这一节的要点：去中心化可从架构、政治、逻辑三个维度判断；去掉了单点故障、审查权力、任意改规则的能力；没去掉规则、治理、以及可能的权力集中；去中心化是光谱，不是非黑即白。

---

## 第26页：2.4 公链、Layer2、侧链

接下来我们来理解不同类型链的本质区别。你经常会听到 L1、L2、侧链这些词，它们到底有什么不同？

---

## 第27页：区块链的「不可能三角」

首先要理解一个概念叫「不可能三角」。区块链无法同时完美实现三个目标，必须在其中做取舍：去中心化——节点分布广，没有中心控制；安全性——抵抗攻击，数据不被篡改；可扩展性——处理大量交易，速度快、费用低。你最多只能优化其中两个，第三个必然要妥协。

---

## 第28页：不同链的取舍

不同的链做了不同的取舍。比特币选择了去中心化加安全性，代价是每秒只能处理约 7 笔交易。Solana 选择了安全性加可扩展性，代价是验证者数量较少。BSC 也选择了安全性加可扩展性，代价是只有 21 个验证者。

---

## 第29页：三种「链」的定义

三种链的定义：Layer1 也叫公链或主链，是底层基础设施，有自己的共识和原生代币，比如 ETH、BTC。Layer2 是二层网络，建在 L1 之上，在链下处理交易，但继承 L1 的安全性。侧链是与主链并行运行的独立链，有自己的共识，不继承 L1 的安全性。

---

## 第30页：Layer2 vs 侧链：核心区别

Layer2 和侧链的核心区别是什么？安全性来源不同——L2 继承以太坊的安全性，侧链依赖自己的验证者。数据存储不同——L2 的交易数据会提交到 L1，侧链数据存储在自己的链上。如果出问题——L2 可以用 L1 的数据恢复，侧链则只能靠自己。代表项目：L2 有 Arbitrum、Optimism、zkSync；侧链有 Polygon PoS、BSC。

---

## 第31页：Layer2 的两大流派

Layer2 有两大技术流派。Optimistic Rollups——先假设你是好人，有 7 天的挑战期，如果没人挑战就确认交易。代表项目是 Arbitrum、Optimism、Base。ZK Rollups——用零知识证明数学证明你是好人，无需等待期。代表项目是 zkSync、StarkNet、Scroll。

---

## 第32页：用户视角：选择哪条链？

从用户视角，怎么选择链？大额资产长期存储，推荐以太坊 L1，安全性最高。日常使用 DeFi、NFT，推荐 Arbitrum 或 Optimism。高频交易、游戏，可以用 Polygon 或其他高性能链。追求最低费用，Polygon PoS 是不错的选择。

---

## 第33页：2.4 本节要点

这一节的要点：不可能三角说的是去中心化、安全性、可扩展性无法同时完美实现；L1 是底层基础设施，L2 继承 L1 安全性，侧链有自己的共识；Layer2 分 Optimistic Rollups 和 ZK Rollups 两大流派；根据场景选择——大额用 L1，日常用 L2，高频用侧链。

---

## 第34页：2.5 模块化区块链与 DA

这一节我们来了解区块链架构的一个新趋势：模块化区块链和数据可用性层。

---

## 第35页：从「单体」到「模块化」

早期的区块链是「单体」的——一条链同时负责执行、共识、存储、结算所有任务。就像一个小作坊，一个人干所有活。问题是：当用户变多、交易量增加，一条链很快就会拥堵。

---

## 第36页：模块化区块链：专业分工

模块化区块链的思路是专业分工。执行层负责运行智能合约、处理交易，就像工厂车间。结算层负责最终确认交易、处理争议，就像法院。共识层决定交易的顺序，就像排队叫号系统。数据可用层简称 DA，负责存储数据、确保可访问，就像公告栏。

---

## 第37页：什么是「数据可用性」？

什么是数据可用性？它确保区块链上的数据被正确发布，任何人都可以看到和验证。如果数据「不可用」，验证者无法检查交易是否有效；没有验证，任何人都可以伪造交易；整个「去信任」的前提就崩塌了。

---

## 第38页：为什么要单独有 DA 层？

为什么要单独有 DA 层？看一下成本对比：在以太坊主网存储每 MB 数据大约要 100 美元；用 Celestia 只要大约 0.81 美元；EigenDA 更低，还有免费层。用专门的 DA 层存储数据，成本可以降低 99%。

---

## 第39页：主流 DA 项目对比

主流的 DA 项目有两个：Celestia 和 EigenDA。Celestia 是独立的 DA 网络，安全性来源于自己的验证者质押 TIA 代币，适合想脱离以太坊生态的项目。EigenDA 是以太坊生态的 DA 服务，安全性来源于以太坊的再质押 ETH，适合想留在以太坊生态的 Rollup。

---

## 第40页：对普通用户的影响

这些技术对普通用户意味着什么？更便宜的 Gas 费——DA 成本下降，Rollup 费用跟着下降。更快的交易——专业化分工提高整体效率。更多选择——启动新 Rollup 变得更容易。你不需要理解技术原理，但你会享受到它带来的好处。

---

## 第41页：2.5 本节要点

这一节的要点：单体区块链一条链做所有事，容易拥堵；模块化区块链将执行、结算、共识、DA 分层；DA 层大幅降低数据存储成本；对用户意味着更便宜、更快、更多选择。

---

## 第42页：2.6 什么业务不适合上链

最后一节，我们来理性看待区块链的适用边界。不是所有业务都适合上链的。

---

## 第43页：区块链的特性和代价

区块链的每个特性都有代价。透明的优势是任何人可验证，代价是隐私性差。不可篡改的优势是数据可信，代价是错误无法纠正。去信任的优势是不依赖中心机构，代价是效率低、成本高。不可逆的优势是交易最终性强，代价是操作失误无法挽回。

---

## 第44页：区块链的代价

用四个词概括区块链的代价：慢、贵、公开、不可逆。这不是区块链的「缺点」，而是它为了实现去信任所付出的代价。

---

## 第45页：不适合上链的五类场景

有五类场景不适合上链。第一，需要隐私保护的数据——医疗病历、商业机密、个人身份信息，这些放在公开透明的链上不合适。第二，需要频繁修改的数据——用户在线状态、实时库存、协作文档。第三，对延迟敏感的业务——高频交易、游戏帧同步、实时视频。第四，已有可信中心的场景——银行内部系统、企业内部流程。第五，对成本敏感的小规模应用——个人博客、小型社区。

---

## 第46页：识别「伪区块链」项目

市面上有很多「伪区块链」项目，怎么识别？号称上链但实际中心化——数据其实存在公司服务器。强行「区块链+」——区块链养鸡、区块链大米，听起来很荒谬。发币是目的，应用是借口——项目的核心诉求是卖币圈钱。技术细节模糊——说不清用什么链、什么共识。过度承诺——宣称能解决一切问题。

---

## 第47页：「区块链养鸡」的教训

拿「区块链养鸡」举例。传感器数据是谁上传的？还是养殖场。数据真实性谁保证？还是要信任养殖场。区块链解决了什么问题？什么也没解决。区块链保证链上数据不可篡改，但不保证源头数据真实。如果数据在上链之前就是假的，上链也改变不了什么。

---

## 第48页：判断是否适合上链的核心问题

判断一个业务是否适合上链，问两个核心问题。第一，这个业务真的需要「去信任」吗？如果已经有可信中心，区块链可能多此一举。第二，不用区块链会有什么无法接受的后果？如果答案是「没什么特别的」，可能不需要区块链。

---

## 第49页：适合上链的场景

那什么场景适合上链？跨境汇款——需要去信任，传统银行慢且贵。资产存证——需要不可篡改的时间戳记录。供应链溯源（多方参与）——多个不互信的主体共享数据。去中心化金融——消除中间人，降低成本和门槛。数字资产所有权——需要可验证的稀缺性和所有权证明。

---

## 第50页：2.6 本节要点

这一节的要点：区块链不是万能的，代价是慢、贵、公开、不可逆；五类不适合的场景——需隐私、频繁修改、低延迟、已有可信中心、成本敏感；警惕「伪区块链」项目——发币是目的，应用是借口；核心问题是是否真的需要去信任。

---

## 第51页：Part 2 完成

恭喜你完成了 Part 2 的学习！你已经理解了区块链的技术原理与边界。你知道了区块链解决的核心问题是双重支付和拜占庭将军问题；理解了比特币为什么可信；搞清楚了去中心化到底「去掉」了什么；区分了公链、Layer2、侧链的本质区别；也学会了判断什么业务适合上链。接下来的 Part 3，是整个课程最重要的一章——钱包账户与资产安全。
